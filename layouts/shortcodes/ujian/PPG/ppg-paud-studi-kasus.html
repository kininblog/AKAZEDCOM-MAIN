    <!-- SELURUH KONTEN HTML ANDA DARI SINI -->
    <div id="login-container">
        <div class="login-box">
            <h2>Login Peserta Ujian</h2>
            <div class="input-group">
                <label for="username">Username</label>
                <input type="text" id="username" placeholder="Masukkan username Anda">
            </div>
            <div class="input-group">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Masukkan password">
            </div>
            <button id="login-btn">Masuk</button>
            <p id="login-error">Password salah. Coba lagi.</p>
            <a href="/ujian/cara-ikut-tryout-online-gratis" style="text-decoration: none;">
                <button id="cara-btn" type="button">Cara Ikut Try Out</button>
            </a>
        </div>
    </div>

    <header class="header" style="display: none;">
        <h2>Simulasi Ujian</h2>
        <div class="user-info">
            <span id="header-info"></span>
            <button id="logout-btn">Logout</button>
        </div>
    </header>

    <div class="quiz-container" style="display: none;">
        <main class="question-panel">
            <div class="question-header">
                <span id="subtest-title">Subtes</span> | Soal No. <span id="question-number">1</span>
            </div>
            <div class="question-body">
                <p id="question-text">Memuat soal...</p>
                <ul id="options" class="options-list"></ul>
            </div>
            <div class="quiz-actions">
                <button id="prev-btn" class="action-button">Sebelumnya</button>
                <button id="doubtful-btn" class="action-button">Ragu-ragu</button>
                <button id="next-btn" class="action-button">Selanjutnya</button>
            </div>
        </main>
        <aside class="navigation-panel">
            <div class="timer-box">
                Sisa Waktu
                <div id="timer">30:00</div>
            </div>
            <div id="grid-container" class="question-grid-container"></div>
            <div class="quiz-actions" style="justify-content: center;">
                <button id="finish-btn" class="action-button">Selesaikan Ujian</button>
            </div>
        </aside>
    </div>

    <div id="result-page" class="result-container" style="display: none;">
        <div class="result-card overall-summary">
            <div id="status-lulus" class="status"></div>
            <h2>Hasil Akhir Ujian</h2>
            <div id="final-score" class="score">0</div>
            <div id="score-details" class="score-details"></div>
            <div id="submission-status"></div>
        </div>
        <div class="result-card">
            <h3>Tinjauan Jawaban</h3>
            <div id="review-section"></div>
        </div>
        <div style="text-align: center;">
           <button id="restart-btn" class="action-button">Ulangi Ujian</button>
        </div>
    </div>
    
    <div id="confirmation-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Selesaikan Ujian?</h2>
            <p>Apakah Anda yakin ingin menyelesaikan dan mengakhiri sesi ujian ini?</p>
            <div class="modal-actions">
                <button id="confirm-no" class="action-button">Batal</button>
                <button id="confirm-yes" class="action-button">Ya, Selesaikan</button>
            </div>
        </div>
    </div>
    <!-- HINGGA AKHIR KONTEN HTML ANDA -->

<script>
// ===================================================================================
// --- KONFIGURASI UJIAN (HANYA UBAH BAGIAN INI UNTUK UJIAN BARU) ---
// ===================================================================================
const EXAM_CONFIG = {
    // 1. Ganti nama kategori ini sesuai nama sheet di Google Sheets (cth: "TWK", "TKP")
    kategori: "PPG",
    
    // 2. Ganti URL ini dengan URL Web App dari Google Script Anda yang sudah di-deploy ulang.
    scriptURL: 'https://script.google.com/macros/s/AKfycbxNJ9pOsCPSPAPRQKfoq43AwmVMSIScq6AIa33Q0dxnMI-jb1xuxi1aK3bUBFDstinDiQ/exec',
    
    // 3. Ganti link peringkat ini ke halaman peringkat yang sesuai.
    linkPeringkat: "/ujian/ranking-peserta-tryout/",
    
    // 4. Sesuaikan pengaturan ujian jika perlu.
    durasiMenit: 30,
    passingGrade: 65,
    password: "ujian",
    
    // 5. Ganti seluruh isi bank soal di bawah ini dengan soal yang sesuai.
    bankSoal: [
  {
    "subtest": "Pedagogik",
    "question": "Pada kegiatan pembelajaran, guru merancang kegiatan yang menyenangkan sesuai karakteristik anak. Berdasarkan dari hasil analisis perkembangan, masih banyak anak-anak yang kurang bersemangat dan kurang tertarik dalam kegiatan bermain di kelas. Berdasarkan dari pernyataan di atas, rancangan pengembangan kegiatan di kelas yang tepat dilakukan guru adalah...",
    "options": [
      "Merancang kegiatan jual beli dengan barang dagangan yang diletakan di lapak dan anak-anak melakukan tawar menawar.",
      "Merancang kegiatan seperti di pasar dan anak-anak diminta untuk mengisi barang dagangan yang akan ditawarkan.",
      "Merancang kegiatan dengan mendatangi pasar agar anak memiliki pengalaman nyata tentang jual beli di pasar tradisional.",
      "Merancang kegiatan yang melibatkan anak-anak dan orang tua tentang bagaimana cara jual beli dan membeli barang dagangan yang murah.",
      "Merancang kegiatan dengan mengunjungi toko yang terdekat dan anak-anak diminta untuk membelanjakan sesuai kebutuhan."
    ],
    "answer": "Merancang kegiatan dengan mendatangi pasar agar anak memiliki pengalaman nyata tentang jual beli di pasar tradisional.",
    "explanation": "Pembelajaran pada anak usia dini akan lebih bermakna dan menarik jika berbasis pengalaman nyata (kontekstual). Mengajak anak langsung ke pasar memberikan pengalaman sensorik dan sosial yang kaya, yang tidak bisa sepenuhnya didapatkan melalui simulasi di kelas. Ini sesuai dengan prinsip pembelajaran berbasis pengalaman (experiential learning)."
  },
  {
    "subtest": "Pedagogik",
    "question": "Guru menyampaikan agar anak dapat menyelesaikan kegiatan sehari-hari dengan kreatif. Agar anak-anak semangat, guru memberikan reward. Manakah pernyataan yang paling tepat mengenai pemberian reward oleh guru?",
    "options": [
      "Guru memberi pujian pada anak-anak yang mengerjakan tugas tercepat.",
      "Guru memberi pujian pada semua anak pada saat kegiatan pembelajaran selesai.",
      "Guru memberikan pujian sesegera mungkin ketika anak berproses lebih baik dari sebelumnya.",
      "Guru memberikan pujian pada anak laki-laki dan anak perempuan yang paling cepat.",
      "Guru hanya memberi pujian pada anak yang hasilnya paling bagus."
    ],
    "answer": "Guru memberikan pujian sesegera mungkin ketika anak berproses lebih baik dari sebelumnya.",
    "explanation": "Reward yang efektif fokus pada proses dan usaha anak, bukan hanya pada hasil atau kecepatan. Memberikan pujian sesegera mungkin saat anak menunjukkan kemajuan akan memperkuat perilaku positif tersebut secara langsung."
  },
  {
    "subtest": "Pedagogik",
    "question": "Pada kegiatan pembelajaran, ada anak yang suka mengganggu temannya. Guru sudah memberikan nasihat tapi juga belum berhasil sehingga perlu cara lain dengan menggunakan hukuman. Manakah pendekatan yang paling tepat bagi guru dalam memberikan konsekuensi atau 'hukuman' yang mendidik?",
    "options": [
      "Anak diberikan tugas yang lebih banyak agar anak sibuk mengerjakan tugas.",
      "Memberikan tanggung jawab baru agar fokus pada tugas baru tersebut.",
      "Waktu istirahat diisi untuk mengganti waktu belajar yang terlewatkan.",
      "Menjelaskan konsekuensi dari tindakan yang telah dilakukan dan memberitahu mana tindakan yang benar dan salah dengan tenang.",
      "Memarahi anak di depan teman-temannya agar jera."
    ],
    "answer": "Menjelaskan konsekuensi dari tindakan yang telah dilakukan dan memberitahu mana tindakan yang benar dan salah dengan tenang.",
    "explanation": "Disiplin positif berfokus pada edukasi. Tujuannya adalah agar anak memahami dampak dari perilakunya (konsekuensi logis) dan belajar cara bertindak yang benar. Pendekatan yang tenang dan jelas lebih efektif daripada hukuman yang bersifat punitif."
  },
  {
    "subtest": "Pedagogik",
    "question": "Guru meminta anak untuk belajar mencampur berbagai warna dari berbagai bahan yang disediakan. Berdasarkan kegiatan pembelajaran tersebut, materi pembelajaran apa saja yang dapat dikembangkan? (jawaban lebih dari satu)",
    "options": [
      "Anak-anak membuat percampuran warna dengan bahan alam.",
      "Anak-anak melakukan percampuran warna dari cat air.",
      "Merangkai puzzle menjadi bermacam-macam warna yang menarik.",
      "Membuat pola warna dari bahan buah-buahan berwarna.",
      "Melakukan eksperimen percobaan warna dari bahan terbarukan."
    ],
    "answer": [
      "Anak-anak membuat percampuran warna dengan bahan alam.",
      "Anak-anak melakukan percampuran warna dari cat air.",
      "Melakukan eksperimen percobaan warna dari bahan terbarukan."
    ],
    "explanation": "Kegiatan mencampur warna secara langsung berkaitan dengan eksperimen menggunakan berbagai media seperti bahan alam, cat air, atau bahan terbarukan. Merangkai puzzle atau membuat pola lebih fokus pada pengenalan warna dan pola, bukan pada proses pencampuran untuk menciptakan warna baru."
  },
  {
    "subtest": "Pedagogik",
    "question": "Pada rancangan kegiatan pembelajaran di kelas, guru mengenalkan tentang terjadinya siang dan malam. Untuk mengenalkan kegiatan, anak-anak diminta untuk melakukan praktik langsung di kelas. Rancangan kegiatan yang dikembangkan dengan mudah oleh anak-anak jika didukung dengan...",
    "options": [
      "Kelas yang luas dan bertingkat.",
      "Kelas dengan jendela bisa dibuat gelap dan terang.",
      "Kelas dengan fasilitas teknologi terbaru.",
      "Kelas yang mudah diakses siapa saja.",
      "Kelas yang terstandar internasional."
    ],
    "answer": "Kelas dengan jendela bisa dibuat gelap dan terang.",
    "explanation": "Untuk mempraktikkan konsep siang (terang) dan malam (gelap), kondisi kelas yang bisa dimanipulasi tingkat pencahayaannya akan sangat membantu anak memahami konsep tersebut secara langsung dan sederhana tanpa memerlukan teknologi canggih."
  },
  {
    "subtest": "Pedagogik",
    "question": "Pada kegiatan bermain di luar kelas guru menyediakan berbagai bahan seperti daun, ranting dan batu untuk membuat miniatur rumah sederhana. Berdasarkan tujuan kegiatan di atas, rancangan pembelajaran yang dikembangkan pada anak adalah... (jawaban lebih dari satu)",
    "options": [
      "Mengembangkan motorik dengan membuat miniatur.",
      "Mengembangkan kognitif untuk menemukan desain miniatur rumah.",
      "Mengembangkan pemahaman nyata tentang rumah sederhana.",
      "Pengembangan seni melalui kegiatan membuat miniatur rumah.",
      "Pengembangan pengetahuan tentang berbagai bentuk dan fungsi rumah."
    ],
    "answer": [
      "Mengembangkan motorik dengan membuat miniatur.",
      "Mengembangkan kognitif untuk menemukan desain miniatur rumah.",
      "Pengembangan seni melalui kegiatan membuat miniatur rumah."
    ],
    "explanation": "Kegiatan membuat miniatur dari bahan alam (loose parts) secara langsung merangsang aspek motorik halus (merangkai), kognitif (merancang), dan seni (menciptakan karya). Aspek pemahaman fungsi rumah lebih bersifat sekunder."
  },
  {
    "subtest": "Pedagogik",
    "question": "Guru akan mengajarkan tentang metamorfosis kupu-kupu. Pada rancangan pembelajaran selanjutnya anak-anak diminta untuk mengamati tahapan metamorfosis. Untuk mengembangkan kegiatan pembelajaran yang menarik dan mudah dipahami, kegiatan dapat dikembangkan melalui... (jawaban lebih dari satu)",
    "options": [
      "Media pembelajaran metamorfosis kupu-kupu.",
      "Model pembelajaran berdiferensiasi.",
      "Materi tentang jenis kupu-kupu.",
      "Video pembelajaran metamorfosis kupu-kupu.",
      "Membuat penangkaran kupu-kupu."
    ],
    "answer": [
      "Media pembelajaran metamorfosis kupu-kupu.",
      "Video pembelajaran metamorfosis kupu-kupu.",
      "Membuat penangkaran kupu-kupu."
    ],
    "explanation": "Untuk memahami proses seperti metamorfosis, penggunaan alat bantu visual seperti media (gambar/model), video, atau pengamatan langsung (penangkaran) sangat efektif karena membuat konsep yang abstrak menjadi lebih konkret dan mudah dipahami oleh anak."
  },
  {
    "subtest": "Pedagogik",
    "question": "Guru menjelaskan tentang kebersihan lingkungan kelas dan sekolah yang masih banyak sampah berserakan. Rancangan topik yang terdekat yang dapat dikembangkan dalam kegiatan pembelajaran berbasis proyek adalah... (jawaban lebih dari satu)",
    "options": [
      "Kebersihan lingkungan sekolah.",
      "Sekolah bersih dan sehat.",
      "Membuat pupuk kompos.",
      "Kendaraan pengangkut sampah.",
      "Sekolah bebas dari sampah."
    ],
    "answer": [
      "Membuat pupuk kompos.",
      "Sekolah bebas dari sampah."
    ],
    "explanation": "Pembelajaran berbasis proyek (PjBL) mendorong anak untuk menciptakan solusi atau produk nyata. Dari masalah sampah, proyek yang paling konkret dan bisa dilakukan anak adalah mengolah sampah (membuat kompos) atau kampanye untuk menciptakan lingkungan yang bersih (sekolah bebas sampah)."
  },
  {
    "subtest": "Pedagogik",
    "question": "Pada kegiatan pembelajaran, guru mengembangkan tema alam semesta dengan tujuan untuk membangun pengetahuan sains. Kegiatan pembelajaran guru memfasilitasi dengan laptop dan jaringan internet. Langkah apa yang dilakukan oleh guru dalam kegiatan pembelajaran memanfaatkan teknologi adalah...",
    "options": [
      "Memberikan penjelasan tentang pentingnya teknologi dalam pembelajaran anak usia dini.",
      "Anak diminta untuk bermain dengan laptop sesuai dengan keinginan masing-masing anak.",
      "Guru melakukan kegiatan pengembangkan kognitif agar anak-anak fokus belajar.",
      "Guru memberikan kegiatan dengan laptop mainan agar anak mengenal lebih awal.",
      "Memberikan kesempatan bermain menggunakan laptop untuk melihat video tentang alam semesta."
    ],
    "answer": "Memberikan kesempatan bermain menggunakan laptop untuk melihat video tentang alam semesta.",
    "explanation": "Pemanfaatan teknologi harus bertujuan dan terarah. Menggunakan laptop untuk menonton video yang relevan dengan tema (alam semesta) adalah cara yang tepat untuk membangun pengetahuan sains sesuai tujuan pembelajaran, bukan sekadar bermain bebas."
  },
  {
    "subtest": "Pedagogik",
    "question": "Pada kegiatan pembelajaran tentang makanan kesukaan, guru menjelaskan tentang berbagai makanan yang sehat. Manakah di antara pertanyaan berikut yang dapat mengembangkan kemampuan berpikir kritis anak?",
    "options": [
      "Apa yang kamu pahami setelah belajar hari ini?",
      "Sebutkan jenis-jenis makanan sehat!",
      "Di mana tempat membeli makanan sehat?",
      "Mengapa topik ini penting untuk dipelajari oleh anak usia dini?",
      "Apa hubungan materi yang dipelajari hari ini dengan kehidupan sehari-hari?"
    ],
    "answer": "Mengapa topik ini penting untuk dipelajari oleh anak usia dini?",
    "explanation": "Pertanyaan berpikir kritis mendorong anak untuk menganalisis dan mengevaluasi (mengapa, bagaimana). Pertanyaan 'mengapa' dan 'apa hubungannya' meminta anak untuk berpikir lebih dalam tentang relevansi dan signifikansi topik, melebihi sekadar mengingat fakta (apa, di mana, sebutkan)."
  },
  {
    "subtest": "Pedagogik",
    "question": "Guru mengembangkan kegiatan untuk pengembangan kemampuan berbicara anak. Berdasarkan dari tujuan pengembangan tersebut, penilaian yang sesuai dengan guru adalah... (jawaban lebih dari satu)",
    "options": [
      "Catatan anekdot karena kemampuan tersebut tidak dicapai oleh semua anak.",
      "Dokumentasi tentang bagaimana praktik anak berbicara lancar.",
      "Pengamatan terhadap kemampuan anak dalam kegiatan berbicara.",
      "Unjuk kerja untuk mengukur keberanian anak pada saat berbicara.",
      "Penugasan yang diberikan sebelum anak menunjukkan kemampuan berbicara."
    ],
    "answer": [
      "Catatan anekdot karena kemampuan tersebut tidak dicapai oleh semua anak.",
      "Pengamatan terhadap kemampuan anak dalam kegiatan berbicara.",
      "Unjuk kerja untuk mengukur keberanian anak pada saat berbicara."
    ],
    "explanation": "Kemampuan berbicara adalah sebuah keterampilan (unjuk kerja) yang paling baik dinilai melalui observasi langsung. Catatan anekdot digunakan untuk mencatat peristiwa khusus terkait kemampuan bicara, dan unjuk kerja menilai performa anak saat praktik berbicara."
  },
  {
    "subtest": "Pedagogik",
    "question": "Bu Hindun mendapatkan data bahwa 5 dari 12 anak memiliki pemahaman di bawah rata-rata mengenai materi profesi. Tindakan evaluatif yang paling tepat dilakukan oleh Bu Hindun adalah... (jawaban lebih dari satu)",
    "options": [
      "Memberikan tugas tambahan kepada seluruh siswa.",
      "Melakukan identifikasi kesulitan siswa dan memberikan materi profesi kepada 5 anak yang memiliki pemahaman di bawah rata-rata temannya.",
      "Memberikan tes ulang dengan soal yang sama.",
      "Mengulang materi profesi dengan metode pengajaran yang sama.",
      "Meminta anak yang sudah paham untuk mendampingi dan menjadi tutor sebaya bagi anak yang belum paham."
    ],
    "answer": [
      "Melakukan identifikasi kesulitan siswa dan memberikan materi profesi kepada 5 anak yang memiliki pemahaman di bawah rata-rata temannya.",
      "Meminta anak yang sudah paham untuk mendampingi dan menjadi tutor sebaya bagi anak yang belum paham."
    ],
    "explanation": "Tindakan evaluatif yang baik adalah yang responsif terhadap kebutuhan spesifik anak. Mengidentifikasi kesulitan dan memberikan bimbingan khusus pada kelompok yang membutuhkan adalah langkah yang tepat. Tutor sebaya juga merupakan strategi yang efektif untuk pembelajaran dan pengembangan sosial."
  },
  {
    "subtest": "Pedagogik",
    "question": "Ibu Helmi diminta untuk mengembangkan deskripsi rubik asesmen perkembangan sosial emosional. Deskripsi rubik yang paling tepat untuk tingkat perkembangan maksimal adalah...",
    "options": [
      "Anak selalu bermain dengan teman dan mampu menyelesaikan konflik secara mandiri, anak secara konsisten menunjukkan kemampuan untuk mengelola emosinya tanpa bantuan guru, anak sangat aktif berpartisipasi dalam semua kegiatan kelompok dan sering memimpin kelompok.",
      "Anak kadang-kadang bermain dengan teman, namun sering mengalami konflik, anak mampu menenangkan diri dengan bantuan minimal dari guru, anak berpartisipasi dalam beberapa kegiatan, tetapi sering membutuhkan dorongan.",
      "Anak selalu bermain sendiri dan jarang berinteraksi dengan teman, anak sering menangis dan sulit menenangkan diri tanpa bantuan guru, anak kurang aktif dan lebih banyak mengamati daripada berpartisipasi.",
      "Anak sering bermain dengan teman dan mampu menyelesaikan konflik dengan bantuan guru, anak menunjukkan kemampuan untuk menenangkan diri, tetapi kadang masih membutuhkan bantuan guru, anak berpartisipasi aktif dalam sebagian besar kegiatan kelompok dan terkadang memimpin.",
      "Anak jarang berinteraksi dengan teman dan sering mengalami konflik, anak sering mengalami ledakan emosi dan selalu membutuhkan bantuan guru untuk menenangkan diri, anak hampir tidak pernah berpartisipasi dalam kegiatan kelompok dan lebih banyak menyendiri."
    ],
    "answer": "Anak selalu bermain dengan teman dan mampu menyelesaikan konflik secara mandiri, anak secara konsisten menunjukkan kemampuan untuk mengelola emosinya tanpa bantuan guru, anak sangat aktif berpartisipasi dalam semua kegiatan kelompok dan sering memimpin kelompok.",
    "explanation": "Deskripsi untuk tingkat perkembangan maksimal (berkembang sangat baik) harus mencerminkan kemandirian, konsistensi, dan inisiatif anak dalam semua indikator yang dinilai, seperti interaksi sosial, regulasi emosi, dan partisipasi."
  },
  {
    "subtest": "Pedagogik",
    "question": "Bu Dina merencanakan aktivitas bermain untuk mengajarkan konsep warna dasar. Untuk mengetahui kemampuan anak didiknya dalam menguasai konsep warna dasar melalui kegiatan bermain, teknik asesmen yang paling tepat untuk digunakan adalah...",
    "options": [
      "Observasi",
      "Wawancara",
      "Portofolio",
      "Tes tertulis",
      "Kuesioner"
    ],
    "answer": "Observasi",
    "explanation": "Untuk menilai pemahaman konsep pada anak usia dini yang diperoleh melalui kegiatan bermain, teknik yang paling otentik dan tepat adalah observasi (pengamatan). Guru mengamati secara langsung bagaimana anak menerapkan konsep warna dalam permainannya."
  },
  {
    "subtest": "Pedagogik",
    "question": "Ali tidak yakin dengan hasil gambarnya dan terlihat murung. Bu Rina ingin memberikan umpan balik memotivasi. Pernyataan yang paling efektif dari Bu Rina kepada Ali adalah...",
    "options": [
      "\"Kamu memang tidak berbakat menggambar, tapi tidak apa-apa, yang penting kamu sudah mencoba.\"",
      "\"Gambar kamu masih kurang bagus, coba lihat gambar teman-temanmu.\"",
      "\"Wah, Ali gambar ini unik sekali. Ibu suka warna-warna yang kamu pilih. Ibu yakin kamu bisa membuatnya lebih bagus lagi!\"",
      "\"Menggambar itu susah, Ali. Tidak semua orang bisa menggambar dengan baik.\"",
      "\"Ibu rasa kamu sudah baik dalam menggambar, namun perlu untuk melihat teman yang lain supaya lebih bagus gambarannya nak!\""
    ],
    "answer": "\"Wah, Ali gambar ini unik sekali. Ibu suka warna-warna yang kamu pilih. Ibu yakin kamu bisa membuatnya lebih bagus lagi!\"",
    "explanation": "Umpan balik yang efektif bersifat spesifik, positif, dan fokus pada usaha serta proses, bukan pada bakat atau perbandingan dengan orang lain. Pernyataan ini menghargai karya anak, menyoroti hal positif (pemilihan warna), dan memberikan dorongan untuk perbaikan."
  },
  {
    "subtest": "Pedagogik",
    "question": "Bu Maya harus membuat laporan perkembangan Tono yang menunjukkan peningkatan signifikan dalam kemampuan berbahasa dan sosialisasi. Narasi yang paling sesuai untuk dimasukkan dalam laporan perkembangan Tono adalah...",
    "options": [
      "\"Tono tidak memiliki masalah yang berarti dalam belajar.\"",
      "\"Tono sering bermain dengan teman-temannya dan mulai menggunakan kalimat yang lebih kompleks dalam berbicara.\"",
      "\"Tono kadang-kadang terlihat bingung saat berbicara.\"",
      "\"Tono masih perlu banyak bimbingan dalam sosialisasi.\"",
      "\"Tono sudah baik dalam bahasa ekspresinya, namun tidak baik dalam bahasa reseptifnya.\""
    ],
    "answer": "\"Tono sering bermain dengan teman-temannya dan mulai menggunakan kalimat yang lebih kompleks dalam berbicara.\"",
    "explanation": "Narasi laporan perkembangan harus deskriptif, objektif, dan menunjukkan bukti konkret dari kemajuan anak. Pernyataan ini secara spesifik menjelaskan kemajuan Tono dalam dua area yang disebutkan (sosialisasi dan bahasa)."
  },
  {
    "subtest": "Pedagogik",
    "question": "Pak Andi ingin menyampaikan perkembangan signifikan dalam keterampilan sosial Rara kepada orang tuanya. Langkah yang paling tepat dilakukan oleh Pak Andi adalah...",
    "options": [
      "Mengundang orang tua Rara secara langsung untuk datang ke sekolah dalam rangka mendiskusikan perkembangan Rara.",
      "Mengirimkan email kepada orang tua Rara untuk menjelaskan perkembangan kemampuan Rara.",
      "Merencanakan untuk menyampaikan ke Tante Rara, karena rumah Tante Rara berdekatan dengan rumah Pak Andi.",
      "Mengirimkan perkembangan Rara melalui WA grup kelas dengan alasan efisiensi.",
      "Mendiskusikan melalui Facebook orang tua Rara dengan alasan kemudahan komunikasi."
    ],
    "answer": "Mengundang orang tua Rara secara langsung untuk datang ke sekolah dalam rangka mendiskusikan perkembangan Rara.",
    "explanation": "Komunikasi mengenai perkembangan anak, terutama yang signifikan, paling baik dilakukan secara langsung (tatap muka) untuk memungkinkan diskusi dua arah yang mendalam dan menjaga kerahasiaan informasi anak. Ini menunjukkan profesionalisme dan penghargaan terhadap orang tua."
  },
  {
    "subtest": "Pedagogik",
    "question": "Bu Dina seorang guru di Taman Kanak-Kanak Bintang Cemerlang. Ia sedang menyusun tujuan pembelajaran pada peserta didiknya. Langkah yang paling tepat dilakukan oleh Bu Dina adalah...",
    "options": [
      "Melakukan analisis capaian perkembangan sebagai langkah awal.",
      "Sebagai langkah awal Bu Dina menyusun indikator pembelajaran.",
      "Membuat media pembelajaran sebagai langkah awal.",
      "Merancang evaluasi pada langkah awal.",
      "Merancang metode pembelajaran yang tepat sebagai langkah awal."
    ],
    "answer": "Melakukan analisis capaian perkembangan sebagai langkah awal.",
    "explanation": "Proses perencanaan pembelajaran selalu diawali dengan analisis kebutuhan dan tingkat perkembangan peserta didik (analisis capaian perkembangan). Dari sinilah tujuan pembelajaran yang sesuai dapat dirumuskan."
  },
  {
    "subtest": "Pedagogik",
    "question": "Pak Budi ingin mengembangkan kemampuan sosial anak-anak dengan menekankan pentingnya berbagi dan bekerja sama. Berdasarkan pilihan di bawah ini, topik yang paling tepat adalah...",
    "options": [
      "1 dan 2 (Bertamasya ke Kebun Binatang & Bekerja Sebagai Pemadam Kebakaran)",
      "1 dan 4 (Bertamasya ke Kebun Binatang & Kucing Peliharaanku)",
      "2 dan 3 (Bekerja Sebagai Pemadam Kebakaran & Menjadi Pemain Sepak Bola)",
      "3 dan 5 (Menjadi Pemain Sepak Bola & Sepedaku Roda Tiga)",
      "4 dan 5 (Kucing Peliharaanku & Sepedaku Roda Tiga)"
    ],
    "answer": "2 dan 3 (Bekerja Sebagai Pemadam Kebakaran & Menjadi Pemain Sepak Bola)",
    "explanation": "Topik pemadam kebakaran dan pemain sepak bola secara inheren mengandung nilai kerja sama tim dan kolaborasi untuk mencapai tujuan bersama, sehingga sangat cocok untuk mengembangkan kemampuan sosial seperti berbagi dan bekerja sama."
  },
  {
    "subtest": "Pedagogik",
    "question": "Ibu Ani ingin merencanakan pembelajaran tentang mengenal angka untuk anak usia 4-5 tahun. Tujuan pembelajaran yang ingin dikembangkan adalah agar anak-anak dapat mengidentifikasi dan menyebutkan angka 1 hingga 10. Pernyataan di bawah ini yang paling tepat dalam menyusun tujuan pembelajaran dengan prinsip ABCD adalah...",
    "options": [
      "Anak mampu menyebutkan, membilang dan menjumlah angka dengan benar.",
      "Melalui kegiatan bermain kartu angka, anak mampu menyebutkan angka 1-10 dengan tepat.",
      "Melalui kegiatan bermain guru mampu menstimulasi anak untuk mengenal angka 1-10.",
      "Kegiatan kartu angka dapat meningkatkan kemampuan anak dalam mengenal angka 1-10.",
      "Anak dapat mengenal dan menyebutkan kartu angka dengan tepat."
    ],
    "answer": "Melalui kegiatan bermain kartu angka, anak mampu menyebutkan angka 1-10 dengan tepat.",
    "explanation": "Tujuan pembelajaran ini memenuhi prinsip ABCD: Audience (anak), Behavior (mampu menyebutkan angka 1-10), Condition (Melalui kegiatan bermain kartu angka), dan Degree (dengan tepat). Ini adalah rumusan yang paling lengkap dan terukur."
  },
  {
    "subtest": "Pedagogik",
    "question": "Bu Winda memiliki anak didik dengan karakteristik belajar yang beragam (kinestetik dan auditori). Ia sedang menyiapkan rancangan pembelajaran untuk pengenalan huruf dalam Bahasa Inggris. Rancangan kegiatan yang paling sesuai adalah...",
    "options": [
      "Guru mengenalkan huruf dengan menggunakan Bahasa Inggris melalui kegiatan lomba memasangkan huruf.",
      "Guru mengajak siswa menyanyikan lagu huruf ABCD dalam Bahasa Inggris dengan bergerak mengikuti irama lagu.",
      "Guru memberikan lembar kerja berisi huruf dalam kata benda menggunakan Bahasa Inggris.",
      "Guru menampilkan video animasi yang menjelaskan huruf baru dan meminta siswa untuk menonton.",
      "Guru mengenalkan huruf baru melalui mendongeng kemudian anak diminta untuk bernyanyi."
    ],
    "answer": "Guru mengajak siswa menyanyikan lagu huruf ABCD dalam Bahasa Inggris dengan bergerak mengikuti irama lagu.",
    "explanation": "Kegiatan ini mengakomodasi kedua gaya belajar yang dominan di kelas. Bernyanyi (auditori) dan bergerak mengikuti irama (kinestetik) membuat pembelajaran menjadi menyenangkan dan efektif bagi semua anak."
  },
  {
    "subtest": "Pedagogik",
    "question": "Bu Anik memiliki peserta didik yang sebagian besar memiliki kecerdasan bahasa verbal. Dengan mempertimbangkan kecerdasan majemuk tersebut, kegiatan yang paling tepat dilakukan Bu Anik untuk menstimulus peserta didiknya adalah...",
    "options": [
      "Menggunakan buku-buku cerita sebagai satu-satunya sumber dan media belajar.",
      "Membacakan cerita dan mendorong anak untuk mengajukan pertanyaan dan menjawab pertanyaan.",
      "Mengadakan kegiatan eksperimen sains dalam kelas.",
      "Membuat model atau karya seni dengan menggunakan berbagai materi.",
      "Mengatur permainan kelompok yang melibatkan kerjasama dan komunikasi."
    ],
    "answer": "Membacakan cerita dan mendorong anak untuk mengajukan pertanyaan dan menjawab pertanyaan.",
    "explanation": "Kecerdasan verbal-linguistik distimulasi melalui kegiatan yang kaya akan bahasa. Membaca cerita, berdiskusi, serta tanya jawab secara langsung melatih dan memanfaatkan kecerdasan ini."
  },
  {
    "subtest": "Pedagogik",
    "question": "Bu Sifa ingin merancang kegiatan pembelajaran yang dapat membantu anak-anak usia 4-5 tahun mengembangkan keterampilan motorik halusnya. Kegiatan paling tepat untuk mengembangkan keterampilan motorik halus anak-anak di kelas Bu Sifa adalah...",
    "options": [
      "Mengadakan permainan lari dan menangkap bola di halaman sekolah.",
      "Mengajar anak dengan metode bercakap-cakap menggunakan media benda bentuk sederhana.",
      "Menyediakan kertas dan cat air untuk melukis bentuk-bentuk sederhana.",
      "Meminta anak-anak untuk membaca buku cerita secara bergantian.",
      "Mengajar anak-anak menyanyikan lagu anak-anak sambil bertepuk."
    ],
    "answer": "Menyediakan kertas dan cat air untuk melukis bentuk-bentuk sederhana.",
    "explanation": "Motorik halus melibatkan koordinasi otot-otot kecil di tangan dan jari. Melukis dengan kuas adalah kegiatan klasik yang sangat efektif untuk melatih keterampilan ini, berbeda dengan lari (motorik kasar) atau bercakap-cakap (bahasa)."
  },
  {
    "subtest": "Pedagogik",
    "question": "Guru ingin membangun sikap anak tentang toleransi keragaman antar suku di Indonesia. Topik apa saja yang dapat diperkenalkan pada anak? (1) Indonesia terdiri atas beragam suku, (2) Temanmu dari suku yang berbeda, (3) Setiap suku memiliki kebiasaan yang berbeda, (4) Anak perlu untuk menghafal semua suku yang ada di Indonesia, (5) Setiap suku memiliki kebudayaan berbeda.",
    "options": [
      "1, 2, 3, dan 5",
      "1, 2, 3, dan 4",
      "2, 3, 4 dan 5",
      "1, 3, 4, dan 5",
      "1, 2, 4, dan 5"
    ],
    "answer": "1, 2, 3, dan 5",
    "explanation": "Untuk membangun toleransi, anak perlu dikenalkan pada konsep keberagaman (poin 1, 3, 5) dan relevansinya dengan kehidupan sehari-hari (poin 2). Menghafal semua suku (poin 4) tidak esensial untuk membangun sikap toleransi dan tidak sesuai dengan pendekatan pembelajaran anak usia dini."
  },
  {
    "subtest": "Pedagogik",
    "question": "Menjelang hari anak nasional, sekolah ingin menyumbangkan buku bacaan ke sekolah di pedesaan. Pak Riza mengajak anak berdiskusi tentang buku yang akan disumbangkan. Kegiatan apa yang dapat dilakukan Pak Riza untuk mengajarkan anak dalam memilih buku tema bacaan yang dapat membangun sikap toleransi beragama?",
    "options": [
      "Bersama anak memilih buku yang sesuai dengan tema atau topik pembelajaran yang ada di sekolah tujuan.",
      "Bersama anak memilih buku tema menghargai, menolong serta menghormati yang berbeda agama.",
      "Bersama anak memilih buku cerita sesuai dengan cerita yang sedang populer.",
      "Bersama anak memilih buku dengan pertimbangan usia dan jenis buku.",
      "Bersama anak memilih buku sesuai dengan ukuran yang dapat digunakan anak."
    ],
    "answer": "Bersama anak memilih buku tema menghargai, menolong serta menghormati yang berbeda agama.",
    "explanation": "Untuk secara spesifik mengajarkan toleransi beragama, maka konten buku yang dipilih harus secara eksplisit mengandung nilai-nilai tersebut, seperti cerita tentang pertemanan lintas agama, saling menghargai hari besar keagamaan, dan tolong-menolong tanpa memandang perbedaan."
  }
]

,

    // --- Data dinamis ini tidak perlu diubah ---
    judulHalaman: document.title,
    url: window.location.href
};

// ===================================================================================
// --- FUNGSI PENGIRIMAN DATA KE GOOGLE SHEET (DIPERBARUI) ---
// ===================================================================================
async function kirimKeGoogleSheet(data) {
    const statusEl = document.getElementById('submission-status');
    statusEl.textContent = 'Mengirim hasil ujian...';
    
    const formData = new FormData();
    // Menambahkan semua data ke dalam objek FormData.
    formData.append('kategori', data.kategori);
    formData.append('url', data.url);
    formData.append('judulHalaman', data.judulHalaman);
    formData.append('Nama', data.Nama);
    formData.append('JumlahSoal', data.JumlahSoal);
    formData.append('JawabanBenar', data.JawabanBenar);
    formData.append('JawabanSalah', data.JawabanSalah);
    formData.append('TidakDijawab', data.TidakDijawab);
    formData.append('Durasi', data.Durasi);
    formData.append('Nilai', data.Nilai);
    formData.append('StatusKelulusan', data.StatusKelulusan);

    try {
        const response = await fetch(EXAM_CONFIG.scriptURL, {
            method: 'POST',
            body: formData
        });
        
        // Membaca respons sebagai JSON untuk mendapatkan pesan sukses/error dari server
        const result = await response.json();
        
        if (result.result === "success") {
            statusEl.innerHTML = `Hasil ujian berhasil disimpan. <b><a href="${EXAM_CONFIG.linkPeringkat}">Cek Peringkat kamu di sini</a></b>`;
            statusEl.style.color = 'green';
        } else {
            // Menampilkan pesan error yang lebih spesifik dari server
            throw new Error(result.message || 'Terjadi kesalahan dari server.');
        }
    } catch (error) {
        console.error('Error saat mengirim ke Google Sheet:', error);
        statusEl.textContent = `Gagal menyimpan hasil. Coba lagi nanti. Error: ${error.message}`;
        statusEl.style.color = 'red';
    }
}

// ===================================================================================
// --- LOGIKA UTAMA UJIAN (DISESUAIKAN, TIDAK PERLU DIUBAH LAGI) ---
// ===================================================================================
document.addEventListener('DOMContentLoaded', () => {
    // Menggunakan bank soal dari EXAM_CONFIG
    const questions = EXAM_CONFIG.bankSoal;
    let currentQuestionIndex = 0;
    let userAnswers = new Array(questions.length).fill(null);
    let questionStatus = new Array(questions.length).fill('unanswered');
    let timerInterval;
    let startTime;
    let currentUsername = '';

    const loginContainer = document.getElementById('login-container');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const loginBtn = document.getElementById('login-btn');
    const loginError = document.getElementById('login-error');
    const appHeader = document.querySelector('.header');
    const quizContainer = document.querySelector('.quiz-container');
    const resultPage = document.getElementById('result-page');
    const subtestTitleEl = document.getElementById('subtest-title');
    const questionNumberEl = document.getElementById('question-number');
    const questionTextEl = document.getElementById('question-text');
    const optionsEl = document.getElementById('options');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const doubtfulBtn = document.getElementById('doubtful-btn');
    const finishBtn = document.getElementById('finish-btn');
    const timerEl = document.getElementById('timer');
    const restartBtn = document.getElementById('restart-btn');
    const logoutBtn = document.getElementById('logout-btn');
    const headerInfo = document.getElementById('header-info');
    const confirmationModal = document.getElementById('confirmation-modal');
    const confirmYesBtn = document.getElementById('confirm-yes');
    const confirmNoBtn = document.getElementById('confirm-no');
    
    function showLoginPage() {
        loginContainer.style.display = 'block'; // Diubah dari 'flex' agar sesuai skrip asli
        appHeader.style.display = 'none';
        quizContainer.style.display = 'none';
        resultPage.style.display = 'none';
        passwordInput.value = '';
        loginError.style.display = 'none';
    }

    function handleLogin() {
        const password = passwordInput.value;
        const username = usernameInput.value.trim();
        if (username === "") {
            loginError.textContent = "Username tidak boleh kosong.";
            loginError.style.display = 'block';
            return;
        }
        // Menggunakan password dari EXAM_CONFIG
        if (password === EXAM_CONFIG.password) {
            currentUsername = username;
            loginContainer.style.display = 'none';
            appHeader.style.display = 'flex';
            quizContainer.style.display = 'flex';
            resultPage.style.display = 'none';
            headerInfo.textContent = `Peserta: ${currentUsername}`;
            startQuiz();
        } else {
            loginError.textContent = "Password salah. Coba lagi.";
            loginError.style.display = 'block';
        }
    }
    
    function handleLogout() {
        clearInterval(timerInterval);
        showLoginPage();
    }

    function startQuiz() {
        currentQuestionIndex = 0;
        userAnswers.fill(null);
        questionStatus.fill('unanswered');
        quizContainer.style.display = 'flex';
        resultPage.style.display = 'none';
        setupQuestionGrids();
        displayQuestion(currentQuestionIndex);
        // Menggunakan durasi dari EXAM_CONFIG
        startTimer(EXAM_CONFIG.durasiMenit * 60);
        startTime = new Date();
    }

    function setupQuestionGrids() {
        const gridContainer = document.getElementById('grid-container');
        gridContainer.innerHTML = '';
        const subtests = [...new Set(questions.map(q => q.subtest))];
        subtests.forEach(subtest => {
            const group = document.createElement('div');
            group.className = 'subtest-group';
            const title = document.createElement('h3');
            title.textContent = subtest;
            const grid = document.createElement('div');
            grid.className = 'question-grid';
            group.appendChild(title);
            group.appendChild(grid);
            gridContainer.appendChild(group);
            questions.forEach((q, index) => {
                if (q.subtest === subtest) {
                    const button = document.createElement('button');
                    button.className = 'grid-button';
                    button.textContent = index + 1;
                    button.onclick = () => jumpToQuestion(index);
                    grid.appendChild(button);
                }
            });
        });
    }

    function displayQuestion(index) {
        document.querySelector('.grid-button.current')?.classList.remove('current');
        currentQuestionIndex = index;
        const question = questions[index];
        subtestTitleEl.textContent = question.subtest;
        questionNumberEl.textContent = index + 1;
        questionTextEl.innerHTML = question.question;
        optionsEl.innerHTML = '';
        question.options.forEach(option => {
            const li = document.createElement('li');
            const label = document.createElement('label');
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.name = `option-${index}`;
            radio.value = option;
            if (userAnswers[index] === option) {
                radio.checked = true;
                label.classList.add('selected');
            }
            radio.onchange = () => selectAnswer(index, option, label);
            const span = document.createElement('span');
            span.innerHTML = option; // Menggunakan innerHTML untuk render jika ada format
            label.appendChild(radio);
            label.appendChild(span);
            li.appendChild(label);
            optionsEl.appendChild(li);
        });
        updateNavButtons();
        updateGridButtonStatus(index, true);
    }

    function selectAnswer(index, answer, label) {
        userAnswers[index] = answer;
        document.querySelectorAll(`#options li label`).forEach(l => l.classList.remove('selected'));
        label.classList.add('selected');
        if (questionStatus[index] !== 'doubtful') {
            questionStatus[index] = 'answered';
        }
        updateGridButtonStatus(index);
    }
    
    function updateNavButtons() {
        prevBtn.disabled = currentQuestionIndex === 0;
        nextBtn.disabled = currentQuestionIndex === questions.length - 1;
    }
    
    function updateGridButtonStatus(index, isCurrent = false) {
        const allGridButtons = document.querySelectorAll('.grid-button');
        if (isCurrent) {
            const currentBtn = document.querySelector('.grid-button.current');
            if (currentBtn) currentBtn.classList.remove('current');
        }
        const button = Array.from(allGridButtons).find(btn => parseInt(btn.textContent) === index + 1);
        if (!button) return;
        if(isCurrent) button.classList.add('current');
        button.classList.remove('answered', 'doubtful');
        switch (questionStatus[index]) {
            case 'answered': button.classList.add('answered'); break;
            case 'doubtful': button.classList.add('doubtful'); break;
        }
    }

    function jumpToQuestion(index) {
        displayQuestion(index);
    }

    function startTimer(duration) {
        let timer = duration;
        clearInterval(timerInterval);
        timerEl.parentElement.classList.remove('low-time');
        timerInterval = setInterval(() => {
            let minutes = parseInt(timer / 60, 10);
            let seconds = parseInt(timer % 60, 10);
            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;
            timerEl.textContent = `${minutes}:${seconds}`;
            if (timer < 300 && !timerEl.parentElement.classList.contains('low-time')) { 
                timerEl.parentElement.classList.add('low-time'); 
            }
            if (--timer < 0) {
                clearInterval(timerInterval);
                finishQuiz();
            }
        }, 1000);
    }
    
    function showConfirmation() {
        confirmationModal.style.display = 'flex';
    }

    function formatDuration(ms) {
    const totalSeconds = Math.floor(ms / 1000);
    const minutes = Math.floor(totalSeconds / 60);
    const seconds = totalSeconds % 60;
    return `${minutes} menit ${seconds.toString().padStart(2, '0')} detik`;
}


    function finishQuiz() {
        clearInterval(timerInterval);
        confirmationModal.style.display = 'none';
        const endTime = new Date();
        const durationMs = endTime - startTime;
        let correctCount = 0;
        questions.forEach((q, index) => {
            if (userAnswers[index] === q.answer) correctCount++;
        });
        const totalQuestions = questions.length;
        const answeredCount = userAnswers.filter(a => a !== null).length;
        const incorrectCount = answeredCount - correctCount;
        const unansweredCount = totalQuestions - answeredCount;
        const finalScore = totalQuestions > 0 ? parseFloat(((correctCount / totalQuestions) * 100).toFixed(2)) : 0;
        const isPassed = finalScore >= EXAM_CONFIG.passingGrade;
        
        quizContainer.style.display = 'none';
        resultPage.style.display = 'block';
        headerInfo.textContent = `Hasil Ujian: ${currentUsername}`;
        
        const statusEl = document.getElementById('status-lulus');
        statusEl.textContent = isPassed ? 'SELAMAT, ANDA LULUS!' : 'MAAF, ANDA BELUM LULUS';
        statusEl.className = `status ${isPassed ? 'lulus' : 'gagal'}`;
        document.getElementById('final-score').textContent = finalScore;
        document.getElementById('score-details').textContent = `${correctCount} dari ${totalQuestions} soal benar`;
        
        const reviewSection = document.getElementById('review-section');
        reviewSection.innerHTML = '';
        questions.forEach((q, index) => {
            const userAnswer = userAnswers[index];
            const isCorrect = userAnswer === q.answer;
            reviewSection.innerHTML += `
                <div class="review-item">
                    <p><strong>Soal ${index + 1}:</strong> ${q.question}</p>
                    <div class="review-answer user-answer ${isCorrect ? '' : 'is-incorrect'}">Jawaban Anda: ${userAnswer || 'Tidak Dijawab'}</div>
                    ${!isCorrect ? `<div class="review-answer correct-answer">Jawaban Benar: ${q.answer}</div>` : ''}
                    <div class="explanation"><strong>Pembahasan:</strong> ${q.explanation}</div>
                </div>
            `;
        });
        
        const dataForSheet = {
            kategori: EXAM_CONFIG.kategori,
            url: EXAM_CONFIG.url,
            judulHalaman: EXAM_CONFIG.judulHalaman,
            Nama: currentUsername,
            JumlahSoal: totalQuestions,
            JawabanBenar: correctCount,
            JawabanSalah: incorrectCount,
            TidakDijawab: unansweredCount,
            Durasi: formatDuration(durationMs),
            Nilai: finalScore,
            StatusKelulusan: isPassed ? 'Lulus' : 'Tidak Lulus'
        };
        kirimKeGoogleSheet(dataForSheet);
    }

    // Event Listeners
    loginBtn.addEventListener('click', handleLogin);
    passwordInput.addEventListener('keypress', (e) => { if(e.key === 'Enter') handleLogin(); });
    logoutBtn.addEventListener('click', handleLogout);
    prevBtn.addEventListener('click', () => { if (currentQuestionIndex > 0) displayQuestion(currentQuestionIndex - 1) });
    nextBtn.addEventListener('click', () => { if (currentQuestionIndex < questions.length - 1) displayQuestion(currentQuestionIndex + 1) });
    doubtfulBtn.addEventListener('click', () => {
        const currentStatus = questionStatus[currentQuestionIndex];
        if (currentStatus === 'doubtful') {
            questionStatus[currentQuestionIndex] = userAnswers[currentQuestionIndex] ? 'answered' : 'unanswered';
        } else {
            questionStatus[currentQuestionIndex] = 'doubtful';
        }
        updateGridButtonStatus(currentQuestionIndex);
    });
    finishBtn.addEventListener('click', showConfirmation);
    confirmYesBtn.addEventListener('click', finishQuiz);
    confirmNoBtn.addEventListener('click', () => confirmationModal.style.display = 'none');
    restartBtn.addEventListener('click', handleLogout);

    showLoginPage();
});
</script>
