    <style>

        /* Quiz Container */
        .quiz-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: #f9fafb; /* bg-gray-50 */
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
        }

        /* Quiz Title (now a p tag) */
        #quizTitle {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 700; /* font-bold */
            text-align: center;
            color: #1f2937; /* text-gray-800 */
            margin-bottom: 2rem; /* mb-8 */
        }

        /* Question Area */
        #questionArea {
            margin-bottom: 1.5rem; /* mb-6 */
        }

        #progressText {
            font-size: 0.875rem; /* text-sm */
            color: #6b7280; /* text-gray-500 */
            margin-bottom: 0.5rem; /* mb-2 */
        }

        /* Question Text (now a p tag) */
        #questionText {
            font-size: 1.25rem; /* text-xl */
            font-weight: 600; /* font-semibold */
            color: #374151; /* text-gray-700 */
            margin-bottom: 1rem; /* mb-4 */
        }

        /* Answer Options */
        .answer-option {
            display: block;
            padding: 0.75rem 1rem;
            margin-bottom: 0.75rem;
            border: 1px solid #d1d5db; /* border-gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
            background-color: #ffffff; /* default background */
            color: #374151; /* default text color */
        }
        .answer-option:hover {
            background-color: #e5e7eb; /* bg-gray-200 */
        }
        .answer-option.selected {
            background-color: #3b82f6; /* bg-blue-500 */
            color: white;
            border-color: #2563eb; /* border-blue-600 */
        }
        .answer-option.correct {
            background-color: #10b981; /* bg-green-500 */
            color: white;
            border-color: #059669; /* border-green-600 */
        }
        .answer-option.incorrect {
            background-color: #ef4444; /* bg-red-500 */
            color: white;
            border-color: #dc2626; /* border-red-600 */
        }
        .answer-option input[type="radio"] { /* sr-only */
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }


        /* Feedback Area */
        #feedbackArea {
            margin-bottom: 1.5rem; /* mb-6 */
        }
        .hint-box {
            background-color: #fef3c7; /* bg-yellow-100 */
            border: 1px solid #fde68a; /* border-yellow-300 */
            color: #92400e; /* text-yellow-700 */
            padding: 0.75rem; /* p-3 */
            border-radius: 0.375rem; /* rounded-md */
            margin-bottom: 1rem; /* mb-4 */
        }
        .rationale {
            margin-top: 0.5rem;
            padding: 0.75rem;
            border-radius: 0.375rem; /* rounded-md */
            font-size: 0.875rem; /* text-sm */
        }
        .rationale.correct {
            background-color: #d1fae5; /* bg-green-100 */
            color: #065f46; /* text-green-700 */
            border: 1px solid #6ee7b7; /* border-green-300 */
        }
        .rationale.incorrect {
            background-color: #fee2e2; /* bg-red-100 */
            color: #991b1b; /* text-red-700 */
            border: 1px solid #fca5a5; /* border-red-300 */
        }

        /* Navigation Area */
        #navigationArea {
            display: flex;
            flex-direction: column; /* default to column for small screens */
            justify-content: space-between;
            align-items: center;
        }
        #navigationArea button {
            width: 100%; /* w-full for small screens */
            font-weight: 600; /* font-semibold */
            padding-top: 0.5rem; /* py-2 */
            padding-bottom: 0.5rem; /* py-2 */
            padding-left: 1rem; /* px-4 */
            padding-right: 1rem; /* px-4 */
            border-radius: 0.5rem; /* rounded-lg */
            transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }
         #navigationArea button:not(:last-child) {
            margin-bottom: 1rem; /* space-y-4 equivalent for column flex */
        }

        /* Responsive adjustments for navigation area */
        @media (min-width: 640px) { /* sm breakpoint */
            #navigationArea {
                flex-direction: row; /* sm:flex-row */
            }
            #navigationArea button {
                width: auto; /* sm:w-auto */
            }
            #navigationArea button:not(:last-child) {
                margin-bottom: 0;
                margin-right: 1rem; /* sm:space-x-4 equivalent */
            }
        }


        #hintButton {
            background-color: #f59e0b; /* bg-yellow-500 */
            color: white;
        }
        #hintButton:hover {
            background-color: #d97706; /* hover:bg-yellow-600 */
        }

        #submitButton {
            background-color: #2563eb; /* bg-blue-600 */
            color: white;
        }
        #submitButton:hover {
            background-color: #1d4ed8; /* hover:bg-blue-700 */
        }
        #submitButton:disabled {
            background-color: #9ca3af; /* bg-gray-400 */
            cursor: not-allowed;
        }


        /* Results Area */
        #resultsArea {
            text-align: center;
            margin-top: 2.5rem; /* mt-10 */
            padding: 1.5rem; /* p-6 */
            background-color: #ffffff; /* bg-white */
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-md */
        }
        /* Results Title (now a p tag) */
        #resultsArea .results-title { /* Added a class for specific styling if needed */
            font-size: 1.5rem; /* text-2xl */
            font-weight: 700; /* font-bold */
            color: #1f2937; /* text-gray-800 */
            margin-bottom: 1rem; /* mb-4 */
        }
        #scoreText {
            font-size: 1.25rem; /* text-xl */
            color: #374151; /* text-gray-700 */
            margin-bottom: 1.5rem; /* mb-6 */
        }
        #restartButton {
            background-color: #10b981; /* bg-green-500 */
            color: white;
            font-weight: 600; /* font-semibold */
            padding-top: 0.75rem; /* py-3 */
            padding-bottom: 0.75rem; /* py-3 */
            padding-left: 1.5rem; /* px-6 */
            padding-right: 1.5rem; /* px-6 */
            border-radius: 0.5rem; /* rounded-lg */
            font-size: 1.125rem; /* text-lg */
            transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }
        #restartButton:hover {
            background-color: #059669; /* hover:bg-green-600 */
        }

        /* Font (jika Inter tidak tersedia secara default di browser pengguna, tambahkan @import di sini) */
        /* @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap'); */

    </style>
    <div class="quiz-container">
        <p id="quizTitle">Kuis Latihan Pretest PPG Daljab 2025</p>
        
        <div id="questionArea" class="mb-6">
            <p id="progressText">Soal 1 dari 10</p>
            <p id="questionText">Memuat pertanyaan...</p>
            <div id="answerOptionsContainer">
                <!-- Opsi jawaban akan dimuat di sini oleh JavaScript -->
            </div>
        </div>

        <div id="feedbackArea" class="mb-6">
            <div id="hintDisplay" class="hint-box p-3 rounded-md mb-4" style="display: none;"></div>
            <div id="rationaleDisplay" class="rationale" style="display: none;"></div>
        </div>

        <div id="navigationArea" class="flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4">
            <button id="hintButton">
                Lihat Petunjuk
            </button>
            <button id="submitButton">
                Kirim Jawaban
            </button>
        </div>

        <div id="resultsArea" class="text-center mt-10 p-6 bg-white rounded-lg shadow-md" style="display: none;">
            <p class="results-title">Kuis Selesai!</p>
            <p id="scoreText">Skor Anda: 0/0</p>
            <button id="restartButton">
                Ulangi Kuis
            </button>
        </div>
    </div>

    <script>
        const quizData = {
            "questions": [
                {
                    "question": "Seorang guru memberikan tugas yang sedikit di atas kemampuan siswa saat ini, namun dapat diselesaikan dengan bantuan dan bimbingan dari guru atau teman sebaya yang lebih mampu. Konsep pedagogis yang diterapkan oleh guru ini adalah...",
                    "hint": "Teori ini diperkenalkan oleh Lev Vygotsky dan menekankan pentingnya interaksi sosial dalam pembelajaran.",
                    "answerOptions": [
                        {"text": "Scaffolding dalam Zone of Proximal Development (ZPD)", "isCorrect": true, "rationale": "Memberikan bantuan terstruktur (scaffolding) pada area perkembangan potensial siswa (ZPD) sejalan dengan prinsip pembelajaran Vygotsky."},
                        {"text": "Drill and Practice", "isCorrect": false, "rationale": "Metode ini berfokus pada pengulangan untuk penguasaan keterampilan, bukan pada pemberian bantuan untuk tugas yang sedikit di atas kemampuan."},
                        {"text": "Operant Conditioning", "isCorrect": false, "rationale": "Konsep ini berkaitan dengan penguatan dan hukuman untuk membentuk perilaku, yang berbeda dengan pemberian bimbingan untuk mencapai kemampuan baru."},
                        {"text": "Discovery Learning", "isCorrect": false, "rationale": "Pembelajaran penemuan mendorong siswa untuk menemukan konsep secara mandiri, yang berkebalikan dengan pemberian bimbingan terstruktur."}
                    ]
                },
                {
                    "question": "Untuk menilai kemampuan siswa dalam menerapkan konsep fisika, seorang guru menugaskan mereka untuk merancang dan membangun sebuah jembatan miniatur menggunakan bahan-bahan sederhana. Jenis penilaian yang digunakan adalah...",
                    "hint": "Penilaian ini berfokus pada tugas-tugas dunia nyata yang relevan dan menuntut siswa untuk 'melakukan' sesuatu.",
                    "answerOptions": [
                        {"text": "Penilaian Kognitif", "isCorrect": false, "rationale": "Meskipun melibatkan aspek kognitif, istilah ini terlalu umum dan tidak secara spesifik menggambarkan tugas berbasis kinerja."},
                        {"text": "Penilaian Sumatif", "isCorrect": false, "rationale": "Penilaian ini bisa saja bersifat sumatif, tetapi istilah tersebut merujuk pada waktu pelaksanaan (akhir unit), bukan pada bentuk tugasnya."},
                        {"text": "Penilaian Otentik (Authentic Assessment)", "isCorrect": true, "rationale": "Tugas merancang dan membangun jembatan merupakan cerminan aplikasi pengetahuan dalam konteks nyata, yang merupakan inti dari penilaian otentik."},
                        {"text": "Penilaian Diagnostik", "isCorrect": false, "rationale": "Penilaian ini biasanya dilakukan di awal untuk mengidentifikasi kekuatan dan kelemahan, bukan untuk menilai hasil akhir sebuah proyek."}
                    ]
                },
                {
                    "question": "Ketika mengetahui salah satu siswanya menjadi korban perundungan siber (cyberbullying) dari siswa lain, tindakan profesional pertama yang harus dilakukan guru adalah...",
                    "hint": "Prioritas utama adalah keselamatan dan kesejahteraan korban, serta mengumpulkan informasi secara bijaksana.",
                    "answerOptions": [
                        {"text": "Menasihati korban untuk mengabaikan perundungan tersebut.", "isCorrect": false, "rationale": "Mengabaikan masalah dapat memperburuk dampak psikologis pada korban dan tidak menyelesaikan akar masalah."},
                        {"text": "Menghukum pelaku secara langsung di depan kelas.", "isCorrect": false, "rationale": "Tindakan ini dapat mempermalukan pelaku dan berpotensi menimbulkan masalah baru tanpa melalui prosedur yang tepat."},
                        {"text": "Segera memanggil orang tua pelaku untuk rapat di sekolah.", "isCorrect": false, "rationale": "Meskipun melibatkan orang tua penting, langkah ini sebaiknya dilakukan setelah informasi yang cukup terkumpul dan terverifikasi."},
                        {"text": "Memberikan dukungan pada korban dan mengumpulkan bukti serta informasi secara rahasia untuk ditindaklanjuti bersama tim kesiswaan.", "isCorrect": true, "rationale": "Pendekatan ini menunjukkan empati, memastikan keselamatan korban, dan mengikuti alur penanganan yang profesional dan sistematis."}
                    ]
                },
                {
                    "question": "Seorang guru sejarah menggunakan Google Earth untuk menunjukkan lokasi pertempuran bersejarah dan meminta siswa membuat blog yang berisi analisis mereka. Guru ini menunjukkan pemahaman mendalam tentang kerangka kerja...",
                    "hint": "Kerangka kerja ini mengintegrasikan tiga domain pengetahuan utama: teknologi, pedagogi, dan konten.",
                    "answerOptions": [
                        {"text": "Technological Pedagogical Content Knowledge (TPACK)", "isCorrect": true, "rationale": "Guru ini berhasil memadukan pengetahuan konten (sejarah), pedagogi (analisis blog), dan teknologi (Google Earth) secara efektif."},
                        {"text": "Bloom's Taxonomy", "isCorrect": false, "rationale": "Meskipun tugasnya melibatkan tingkat berpikir tinggi (analisis), Taksonomi Bloom tidak secara spesifik membahas integrasi teknologi."},
                        {"text": "4C of 21st Century Skills", "isCorrect": false, "rationale": "Walaupun hasilnya dapat mengembangkan keterampilan 4C, kerangka kerja yang paling tepat menggambarkan integrasi tiga domain tersebut adalah TPACK."},
                        {"text": "Problem-Based Learning (PBL)", "isCorrect": false, "rationale": "Ini adalah model pembelajaran, bukan kerangka kerja yang secara khusus mendefinisikan hubungan antara teknologi, pedagogi, dan konten."}
                    ]
                },
                {
                    "question": "Pilihlah padanan kata yang paling sesuai: API : OBAT = ...",
                    "hint": "Hubungan analoginya adalah 'sumber bahan baku' : 'produk jadi'.",
                    "answerOptions": [
                        {"text": "RESEP : KOKI", "isCorrect": false, "rationale": "Analogi ini adalah 'panduan' : 'profesi', bukan 'bahan baku' : 'produk'."},
                        {"text": "BAJA : MOBIL", "isCorrect": true, "rationale": "Hubungan ini adalah 'komponen/material' : 'produk jadi', yang paralel dengan analogi pada soal."},
                        {"text": "BUKU : PENULIS", "isCorrect": false, "rationale": "Analogi ini adalah 'produk' : 'pembuat', yang merupakan kebalikan dari hubungan yang dicari."},
                        {"text": "PASIEN : RUMAH SAKIT", "isCorrect": false, "rationale": "Hubungan ini adalah 'pengguna jasa' : 'tempat jasa', tidak sesuai dengan analogi soal."}
                    ]
                },
                {
                    "question": "Semua guru yang mengikuti PPG adalah sarjana. Sebagian sarjana adalah penulis. Kesimpulan yang paling tepat adalah...",
                    "hint": "Perhatikan kata 'sebagian'. Tidak semua anggota dari satu kelompok pasti memiliki karakteristik dari kelompok lain yang beririsan.",
                    "answerOptions": [
                        {"text": "Sebagian guru yang mengikuti PPG adalah penulis.", "isCorrect": false, "rationale": "Tidak ada jaminan bahwa irisan 'sarjana yang merupakan penulis' juga mencakup 'sarjana yang merupakan guru PPG'."},
                        {"text": "Semua penulis adalah guru yang mengikuti PPG.", "isCorrect": false, "rationale": "Premis dengan jelas menyatakan hanya 'sebagian' sarjana yang penulis, dan tidak ada informasi yang menghubungkan semua penulis dengan PPG."},
                        {"text": "Tidak dapat ditarik kesimpulan yang pasti.", "isCorrect": true, "rationale": "Tidak ada informasi yang secara logis menghubungkan kelompok 'guru PPG' dengan kelompok 'penulis', meskipun keduanya berada dalam kelompok 'sarjana'."},
                        {"text": "Semua guru yang mengikuti PPG adalah penulis.", "isCorrect": false, "rationale": "Ini bertentangan langsung dengan premis bahwa hanya 'sebagian' sarjana yang merupakan penulis."}
                    ]
                },
                {
                    "question": "Seorang siswa belajar dengan giat karena ia benar-benar menikmati proses memahami materi baru dan merasa puas dengan pencapaian pribadinya. Motivasi yang mendorong siswa tersebut adalah...",
                    "hint": "Pikirkan perbedaan antara dorongan yang berasal dari dalam diri dan dorongan yang berasal dari faktor eksternal.",
                    "answerOptions": [
                        {"text": "Motivasi Ekstrinsik", "isCorrect": false, "rationale": "Motivasi ekstrinsik didorong oleh imbalan eksternal seperti nilai atau pujian, bukan dari kepuasan internal."},
                        {"text": "Motivasi Berprestasi", "isCorrect": false, "rationale": "Meskipun ini terkait dengan prestasi, istilah yang lebih spesifik menggambarkan sumber dorongannya adalah motivasi intrinsik."},
                        {"text": "Motivasi Intrinsik", "isCorrect": true, "rationale": "Dorongan untuk belajar berasal dari kepuasan dan minat internal siswa itu sendiri, yang merupakan definisi dari motivasi intrinsik."},
                        {"text": "Motivasi Afiliasi", "isCorrect": false, "rationale": "Motivasi ini berkaitan dengan kebutuhan untuk terhubung dengan orang lain, bukan kenikmatan dalam proses belajar itu sendiri."}
                    ]
                },
                {
                    "question": "Dalam sebuah model pembelajaran berbasis proyek (PjBL), peran utama guru bergeser dari 'sumber pengetahuan' menjadi...",
                    "hint": "Dalam model pembelajaran modern, guru lebih banyak memandu dan mendukung proses belajar siswa daripada sekadar memberikan informasi.",
                    "answerOptions": [
                        {"text": "Evaluator Tunggal", "isCorrect": false, "rationale": "Meskipun guru mengevaluasi, perannya jauh lebih luas dan tidak hanya terbatas pada penilaian akhir."},
                        {"text": "Fasilitator dan Pembimbing", "isCorrect": true, "rationale": "Guru memandu, menyediakan sumber daya, dan mendukung siswa dalam proses pembelajaran mereka, yang sesuai dengan peran fasilitator."},
                        {"text": "Penceramah Ahli", "isCorrect": false, "rationale": "Peran ini lebih dominan dalam pembelajaran langsung (direct instruction), bukan dalam PjBL yang berpusat pada siswa."},
                        {"text": "Pengawas Disiplin", "isCorrect": false, "rationale": "Meskipun menjaga ketertiban itu penting, peran utama guru dalam PjBL adalah mendukung proses belajar, bukan hanya mengawasi."}
                    ]
                },
                {
                    "question": "Perhatikan deret angka berikut: 100, 97, 92, 85, 76, ... Angka selanjutnya adalah...",
                    "hint": "Perhatikan selisih antara setiap angka berurutan. Pola pengurangannya tidak konstan.",
                    "answerOptions": [
                        {"text": "67", "isCorrect": false, "rationale": "Pola pengurangan antar suku meningkat satu demi satu (-3, -5, -7, -9), sehingga suku berikutnya dikurangi 11."},
                        {"text": "65", "isCorrect": true, "rationale": "Pola pengurangannya adalah bilangan ganjil berurutan, dimulai dari 3. Setelah dikurangi 9, suku berikutnya harus dikurangi 11."},
                        {"text": "69", "isCorrect": false, "rationale": "Pengurangan dengan 7 akan mengikuti pola (-3, -5, -7, -7), yang tidak konsisten dengan pola sebelumnya."},
                        {"text": "63", "isCorrect": false, "rationale": "Ini akan terjadi jika suku terakhir dikurangi 13, yang melompati satu angka dalam pola bilangan ganjil."}
                    ]
                },
                {
                    "question": "Jika seorang guru ingin mengembangkan keterampilan 4C (Critical Thinking, Creativity, Collaboration, Communication) secara terpadu, model pembelajaran manakah yang paling efektif untuk diterapkan?",
                    "hint": "Model pembelajaran ini menempatkan siswa dalam situasi untuk bekerja sama memecahkan masalah kompleks dari dunia nyata.",
                    "answerOptions": [
                        {"text": "Pembelajaran Langsung (Direct Instruction)", "isCorrect": false, "rationale": "Model ini lebih berpusat pada guru dan kurang memberikan ruang bagi siswa untuk berkolaborasi atau berkreasi secara ekstensif."},
                        {"text": "Pembelajaran Berbasis Proyek (Project-Based Learning)", "isCorrect": true, "rationale": "PjBL secara inheren menuntut siswa untuk berpikir kritis, berkolaborasi dalam tim, berkomunikasi, dan menciptakan solusi atau produk yang kreatif."},
                        {"text": "Ceramah dan Tanya Jawab", "isCorrect": false, "rationale": "Metode ini dapat mengembangkan komunikasi, tetapi kurang efektif untuk mengembangkan kolaborasi dan kreativitas secara terpadu."},
                        {"text": "Drill and Practice", "isCorrect": false, "rationale": "Metode ini berfokus pada pengulangan dan hafalan, bukan pada pengembangan keterampilan berpikir tingkat tinggi dan kolaborasi."}
                    ]
                }
            ]
        };

        const questionTextEl = document.getElementById('questionText');
        const answerOptionsContainerEl = document.getElementById('answerOptionsContainer');
        const hintButtonEl = document.getElementById('hintButton');
        const hintDisplayEl = document.getElementById('hintDisplay');
        const submitButtonEl = document.getElementById('submitButton');
        const rationaleDisplayEl = document.getElementById('rationaleDisplay');
        const resultsAreaEl = document.getElementById('resultsArea');
        const scoreTextEl = document.getElementById('scoreText');
        const restartButtonEl = document.getElementById('restartButton');
        const progressTextEl = document.getElementById('progressText');
        const questionAreaEl = document.getElementById('questionArea');
        const navigationAreaEl = document.getElementById('navigationArea');

        let currentQuestionIndex = 0;
        let score = 0;
        let selectedAnswerIndex = -1; // Ini akan menyimpan index dari shuffledOptions
        let answerSubmitted = false;
        let currentShuffledOptions = []; // Untuk menyimpan urutan opsi yang diacak saat ini

        function shuffleArray(array) {
            // Fungsi untuk mengacak array (Fisher-Yates shuffle)
            let newArray = [...array]; // Buat salinan agar tidak mengubah array asli
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function loadQuestion() {
            answerSubmitted = false;
            selectedAnswerIndex = -1;
            const currentQuestion = quizData.questions[currentQuestionIndex];
            
            questionTextEl.textContent = currentQuestion.question;
            progressTextEl.textContent = `Soal ${currentQuestionIndex + 1} dari ${quizData.questions.length}`;
            answerOptionsContainerEl.innerHTML = '';
            hintDisplayEl.style.display = 'none';
            rationaleDisplayEl.style.display = 'none';
            rationaleDisplayEl.textContent = '';
            submitButtonEl.textContent = 'Kirim Jawaban';
            submitButtonEl.disabled = true;
            hintButtonEl.disabled = false;

            currentShuffledOptions = shuffleArray(currentQuestion.answerOptions);

            currentShuffledOptions.forEach((option, index) => {
                const optionEl = document.createElement('label');
                optionEl.className = 'answer-option';
                // Perhatikan: value pada radio button tidak lagi digunakan untuk logika utama,
                // karena kita menggunakan selectedAnswerIndex yang merujuk ke currentShuffledOptions
                optionEl.innerHTML = `
                    <input type="radio" name="answer" value="${index}" class="sr-only"> 
                    <span>${option.text}</span>
                `;
                optionEl.addEventListener('click', () => {
                    if (!answerSubmitted) {
                        document.querySelectorAll('.answer-option').forEach(el => el.classList.remove('selected'));
                        optionEl.classList.add('selected');
                        selectedAnswerIndex = index; // Simpan index dari currentShuffledOptions
                        submitButtonEl.disabled = false;
                    }
                });
                answerOptionsContainerEl.appendChild(optionEl);
            });
        }

        hintButtonEl.addEventListener('click', () => {
            const currentQuestion = quizData.questions[currentQuestionIndex];
            hintDisplayEl.textContent = currentQuestion.hint;
            hintDisplayEl.style.display = 'block';
            hintButtonEl.disabled = true;
        });

        submitButtonEl.addEventListener('click', () => {
            if (answerSubmitted) {
                currentQuestionIndex++;
                if (currentQuestionIndex < quizData.questions.length) {
                    loadQuestion();
                } else {
                    showResults();
                }
            } else {
                if (selectedAnswerIndex === -1) {
                    // Ini seharusnya tidak terjadi jika tombol submit dinonaktifkan dengan benar
                    return; 
                }
                answerSubmitted = true;
                const selectedOptionData = currentShuffledOptions[selectedAnswerIndex]; // Dapatkan data dari opsi yang dipilih

                const optionElements = document.querySelectorAll('.answer-option');
                const selectedLabelEl = optionElements[selectedAnswerIndex]; // Elemen label yang diklik

                rationaleDisplayEl.textContent = selectedOptionData.rationale;
                rationaleDisplayEl.style.display = 'block';

                if (selectedOptionData.isCorrect) {
                    score++;
                    if(selectedLabelEl) selectedLabelEl.classList.add('correct');
                    rationaleDisplayEl.className = 'rationale correct';
                } else {
                    if(selectedLabelEl) selectedLabelEl.classList.add('incorrect');
                    rationaleDisplayEl.className = 'rationale incorrect';
                    
                    // Tampilkan juga yang benar
                    const correctOptionOriginal = quizData.questions[currentQuestionIndex].answerOptions.find(opt => opt.isCorrect);
                    // Cari elemen yang benar di antara yang sudah diacak
                    currentShuffledOptions.forEach((opt, idx) => {
                        if (opt.text === correctOptionOriginal.text) { // Bandingkan dengan teks asli
                           if(optionElements[idx]) {
                                optionElements[idx].classList.add('correct');
                                if (idx !== selectedAnswerIndex) { // Jangan hapus 'selected' jika itu adalah yang benar
                                     optionElements[idx].classList.remove('selected');
                                }
                           }
                        }
                    });
                }

                optionElements.forEach(el => {
                    el.style.pointerEvents = 'none'; 
                });

                submitButtonEl.textContent = 'Soal Berikutnya';
                if (currentQuestionIndex === quizData.questions.length - 1) {
                    submitButtonEl.textContent = 'Lihat Hasil';
                }
            }
        });

        function showResults() {
            questionAreaEl.style.display = 'none';
            navigationAreaEl.style.display = 'none';
            feedbackAreaEl.style.display = 'none';
            resultsAreaEl.style.display = 'block';
            scoreTextEl.textContent = `Skor Anda: ${score} dari ${quizData.questions.length}`;
        }

        restartButtonEl.addEventListener('click', () => {
            currentQuestionIndex = 0;
            score = 0;
            resultsAreaEl.style.display = 'none';
            questionAreaEl.style.display = 'block';
            navigationAreaEl.style.display = 'flex';
            feedbackAreaEl.style.display = 'block';
            loadQuestion();
        });

        loadQuestion();
    </script>
