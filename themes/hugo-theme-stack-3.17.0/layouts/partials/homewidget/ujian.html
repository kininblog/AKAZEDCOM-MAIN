{{- /*
=================================
Partial: Try Out Section
layouts/partials/tryout-section.html
=================================
Deskripsi:
Partial ini menampilkan 3 postingan terbaru dari seksi "ujian" dalam format kartu
dengan thumbnail dan latar belakang gradien.

Cara Penggunaan:
Panggil partial ini di template Anda (misalnya: index.html) dengan:
{{ partial "tryout-section.html" . }}

Frontmatter yang Dibutuhkan di Postingan (content/ujian/....md):
---
title: "Tryout SKD CPNS 2024"
date: 2025-07-09
image: "/images/tryout-cpns.jpg"  # Path ke gambar thumbnail
---
*/ -}}

{{- /* Mengambil hingga 3 postingan terbaru dari seksi 'ujian' */ -}}
{{- $latestTryouts := where .Site.RegularPages "Section" "ujian" | first 3 -}}

{{- /* Hanya render seksi jika ada postingan yang ditemukan */ -}}
{{- if $latestTryouts -}}
<section class="content-section">
    <div class="section-header">
        <h2 class="section-header__title">Try Out</h2>
        {{- /* PERBAIKAN: Mengubah sintaks pemanggilan .Permalink */ -}}
        <a href="{{ (.Site.GetPage "section" "ujian").Permalink }}" class="section-header__see-more">Lihat Semua â†’</a>
    </div>
    <div class="card-grid">
        {{- range $index, $post := $latestTryouts -}}
        {{- /* Menentukan warna gradien berdasarkan urutan */ -}}
        {{- $cardColorClass := printf "tryout-card--%d" (add $index 1) -}}

        <article class="tryout-card {{ $cardColorClass }}">
            {{- with $post.Params.image -}}
                <img src="{{ . | absURL }}" alt="Thumbnail untuk {{ $post.Title }}" class="tryout-card__thumbnail">
            {{- else -}}
                <img src="https://placehold.co/400x225/cccccc/ffffff?text=Thumbnail" alt="Placeholder" class="tryout-card__thumbnail">
            {{- end -}}
            <div class="tryout-card__content">
                <h3 class="tryout-card__title">{{ $post.Title }}</h3>
                <a href="{{ $post.Permalink }}" class="tryout-card__button">Lihat Detail</a>
            </div>
        </article>
        {{- end -}}
    </div>
</section>
{{- end -}}
